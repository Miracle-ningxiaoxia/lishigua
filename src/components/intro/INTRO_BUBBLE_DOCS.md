# 超现实记忆星云球 (Surreal Cinematic Memory Orb)

一个电影级的、充满生命力的交互式星云球体验。

## 🎨 视觉设计哲学

**不是一个气球，而是：**
- 漫威电影中奇异博士的魔法光球
- 《哈利波特》中的预言水晶球
- 神秘的、流动的、不可捉摸的能量体

## ✨ 核心视觉特性

### 1. 多层玻璃拟态结构

#### 外层玻璃壳
- **多重径向渐变**：
  - 左上角：白色高光（模拟光源反射）
  - 右下角：蓝色折射
  - 整体：紫色到深蓝色的渐变基底
- **多层阴影系统**：
  - 内阴影：白色 + 蓝色（内部发光）
  - 外阴影：蓝色 + 紫色（环境光晕）
  - 悬停时：亮度和扩散范围增强

#### 光学折射层
- **圆锥渐变**（Conic Gradient）：
  - 模拟光线通过水晶的彩虹色散
  - 颜色：粉红 → 蓝色 → 黄绿色 → 粉红（360°循环）
  - 混合模式：`mix-blend-overlay`
  - 高斯模糊：20px
  - 悬停时透明度增加

#### 内部星云雾气
- **多重径向渐变**：
  - 左下角：粉红色雾气
  - 右上角：蓝色雾气
  - 中心：金色雾气
- **高斯模糊**：30px
- **持续旋转**：20秒一圈（GSAP infinite）
- **悬停加速**：4秒一圈 + 放大 1.3 倍

#### 中心能量核心
- **白色到蓝色径向渐变**
- **高斯模糊**：10px
- **脉冲动画**：
  - 默认：1-1.1 倍缩放，2秒循环
  - 悬停：1-1.3 倍缩放，1秒循环

#### 外围能量环
- 3 个独立的扩散环
- **动画**：从内向外扩散并淡出
- **延迟**：交错 0.5 秒
- **持续时间**：3-5 秒（依次递增）

### 2. 环境光晕（Aura）

**巨大的模糊光球**：
- 尺寸：600x600px
- 径向渐变：蓝色到紫色
- 高斯模糊：60px
- **脉冲呼吸**：
  - 默认：1-1.2 倍，4秒
  - 悬停：1-1.3 倍，2秒

## 🎭 动画系统

### 待机状态（Breathing & Morphing）

#### GSAP 动画

1. **呼吸缩放**
```typescript
scale: 1 → 1.08
duration: 3秒
yoyo: true
repeat: -1
```

2. **垂直浮动**
```typescript
y: 0 → -15px
duration: 4秒
yoyo: true
repeat: -1
```

3. **液态金属形变** ⭐ 核心特性
```typescript
borderRadius: 
  '50% 50% 50% 50%' → 
  '47% 53% 48% 52% / 52% 48% 52% 48%'
duration: 6秒
yoyo: true
repeat: -1
```
**效果**：球体不规则形变，像液态金属或活体

4. **星云旋转**
```typescript
rotation: 0 → 360deg
duration: 20秒（默认）/ 4秒（悬停）
repeat: -1
```

### 悬停状态（Magnetic Focus）

#### 磁吸效果
使用 Framer Motion 的 `useMotionValue` + `useTransform`：

```typescript
mouseX, mouseY → orbX, orbY
[-200, 200] → [-30, 30]
```

**行为**：
- 鼠标靠近时，球体向鼠标位置偏移
- 最大偏移：30px
- 平滑跟随（spring physics）

#### 能量积蓄反馈
- ✅ 外部光晕收缩并增亮
- ✅ 星云旋转加速（20秒 → 4秒）
- ✅ 星云放大 1.3 倍
- ✅ 能量核心脉冲加快
- ✅ 所有阴影增强

## 💥 爆炸序列（The Big Bang）

### 阶段一：坍缩（Implosion - 0.3秒）

```typescript
scale: 1 → 0.5
filter: brightness(5) saturate(2)
ease: power4.in
```

**效果**：
- 球体急剧收缩
- 亮度达到白炽状态
- 饱和度极限增强
- 视觉暗示：能量即将释放

### 阶段二：冲击波与爆发（Shockwave - 1.5秒）

#### 光学冲击波
动态创建的 DOM 元素：
```css
width: 100px → 200vw
height: 100px → 200vw
border: 3px solid rgba(255,255,255,0.8)
box-shadow: 
  0 0 50px rgba(100,200,255,0.8),
  inset 0 0 50px rgba(255,100,200,0.6)
opacity: 1 → 0
```

**视觉**：
- 从中心向全屏扩散的透明圆环
- 带有蓝色和粉红色的色散效果
- 模拟光学冲击波

#### 球体解体
```typescript
scale: 3
opacity: 0
filter: blur(50px) hue-rotate(180deg)
duration: 1.2秒
```

**效果**：
- 球体极速放大并消散
- 强烈模糊化
- 色相旋转 180 度（视觉变幻）

#### 粒子爆发

使用 `canvas-confetti` 增强版：

**配置**：
- 粒子数量：30/波次
- 颜色：5种（蓝、金、紫、红、青）
- 形状：圆形 + 方形
- 方向：全方位随机（0-360°）
- 重力：0.5（慢速下落）
- 持续：2秒
- 波次：每 100ms 一次

**视觉效果**：
- 数百个发光粒子向四周炸裂
- 慢动作漂浮，仿佛穿过用户身体
- 多彩、梦幻、史诗级

### 阶段三：过渡（1秒后）

触发回调 `onExplode()`，进入成员介绍阶段

## 🎮 交互反馈

### 鼠标状态

- **默认**：普通光标
- **悬停**：`data-cursor="hover"` 触发自定义光标
- **点击**：防止重复点击（`isExploding` 标志）

### 视觉反馈层次

1. **远距离**（200px+）：环境光晕可见
2. **中距离**（100-200px）：开始产生磁吸
3. **近距离**（0-100px）：强烈磁吸 + 所有加速效果
4. **点击**：三阶段爆炸

## 🔧 技术实现

### 核心技术栈

- **GSAP** - 复杂动画（形变、旋转、坍缩）
- **Framer Motion** - 磁吸效果、响应式动画
- **canvas-confetti** - 粒子系统
- **CSS Gradients** - 多层渐变（径向、圆锥）
- **CSS Filters** - 模糊、亮度、色相旋转
- **Web Audio API** - 爆炸音效

### 性能优化

- ✅ `will-change: transform` - GPU 加速
- ✅ `transform` & `opacity` - 高性能属性
- ✅ `requestAnimationFrame` - GSAP 内置
- ✅ 事件防抖 - 防止重复触发
- ✅ DOM 清理 - 冲击波元素自动移除

### 响应式设计

- 固定尺寸：320x320px（球体）
- 固定尺寸：600x600px（光晕）
- 居中布局：flex + center
- 移动端友好：触摸事件支持

## 🎨 CSS 技巧

### 多层渐变叠加

```css
background: 
  radial-gradient(...),  /* 高光 */
  radial-gradient(...),  /* 折射 */
  radial-gradient(...);  /* 基底 */
```

### 圆锥渐变（彩虹效果）

```css
background: conic-gradient(
  from 0deg at 50% 50%,
  rgba(255,0,150,0.3) 0deg,
  rgba(0,150,255,0.3) 120deg,
  rgba(150,255,0,0.3) 240deg,
  rgba(255,0,150,0.3) 360deg
)
```

### 混合模式

```css
mix-blend-overlay  /* 折射层 */
```

### 遮罩渐变

```css
maskImage: radial-gradient(...)
WebkitMaskImage: radial-gradient(...)
```

## 📊 动画时间线

```
0s     ━━━━ 用户看到球体（呼吸、浮动、形变）
       ┃
       ┃  [悬停] 磁吸 + 能量积蓄
       ┃
       ▼
[点击] ━━━━ 0.0s   播放音效
       ┃    0.0s   坍缩开始
       ┃    0.3s   坍缩完成
       ┃    0.3s   冲击波 + 爆发开始
       ┃    1.8s   冲击波完成
       ┃    1.0s   触发 onExplode()
       ┃    2.3s   粒子全部消散
       ▼
      过渡到成员介绍
```

## 🎭 设计对标

### 视觉参考

1. **奇异博士魔法** - 发光、流动、神秘
2. **预言水晶球** - 玻璃质感、内部雾气
3. **宇宙大爆炸** - 坍缩 → 爆发 → 扩散
4. **液态金属** - 不规则形变
5. **光学透镜** - 彩虹色散

### 关键词

- Surreal（超现实）
- Cinematic（电影级）
- Ethereal（空灵的）
- Nebula（星云）
- Crystalline（水晶般的）
- Morphing（形变）
- Chromatic（色彩的）

## 🚀 使用方式

```tsx
import IntroBubble from '@/components/intro/IntroBubble'

<IntroBubble onExplode={() => {
  // 启动音乐
  // 进入下一阶段
}} />
```

## 💡 未来增强

### 可选升级
1. **WebGL/Three.js** - 真正的 3D 球体
2. **Shader 效果** - 更复杂的折射
3. **粒子系统** - 自定义粒子轨迹
4. **音频可视化** - 根据音频律动
5. **手势控制** - 手机端旋转查看

### 性能版本
- 降低模糊强度
- 减少粒子数量
- 简化渐变层数

## 📝 总结

这是一个充满细节的、电影级的交互式艺术作品：
- ✅ 多层材质系统（玻璃、星云、折射、核心）
- ✅ 复杂动画编排（呼吸、形变、磁吸、爆炸）
- ✅ 史诗级爆炸序列（坍缩 → 冲击波 → 粒子）
- ✅ 极致视觉打磨（渐变、阴影、模糊、混合）

**不再是一个简单的气球，而是一个活着的记忆能量体。**
